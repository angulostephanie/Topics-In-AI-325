package hw5;

import java.io.BufferedReader;
import java.io.FileInputStream;
import java.io.IOException;
import java.io.InputStreamReader;
import java.util.Arrays;
import java.lang.Character;

public class InformationRetrieval {

	public static void main(String[] args) throws IOException {
		BufferedReader br = new BufferedReader(
		        new InputStreamReader(new FileInputStream("descriptions.txt")));
		try {
		    String line,preReqLine, betterPreReqLine, evenBetterPreReqLine;
		    char firstD,secondD,thirdD, space, ch, chNext;
		    int sum = 0;
		    while ((line = br.readLine()) != null) {
		        if(line.toLowerCase().contains("prerequisite")) {
		        	preReqLine = line;
		        	for(int i = 0; i <= preReqLine.length(); i++) {
		        		if(i < (preReqLine.length()-5)) {
		        			
		        			ch = preReqLine.charAt(i);
		        			chNext = preReqLine.charAt(i+1);
		        			space = preReqLine.charAt(i+2);
		        			firstD = preReqLine.charAt(i+3);
			        		secondD = preReqLine.charAt(i+4);
			        		thirdD = preReqLine.charAt(i+5);
			        		if(Character.isUpperCase(ch) && Character.isUpperCase(chNext) && Character.isWhitespace(space) && Character.isDigit(firstD) && Character.isDigit(secondD) && Character.isDigit(thirdD)) {
			        			betterPreReqLine = preReqLine;
			        			if(!Character.isUpperCase(betterPreReqLine.charAt(i)) || !Character.isDigit(betterPreReqLine.charAt(i))) {
			        				evenBetterPreReqLine = betterPreReqLine.substring(i);
			        				System.out.println(evenBetterPreReqLine);
			        			}
			        			
			        			//System.out.println(preReqLine);
			        			sum+= 1; //548
			        			break; //needed so it does not repeat lines
			        		} 			        		
		        		}
		        		
		        		/*char ch = preReqLine.charAt(i);
		        		if(i != (preReqLine.length()-1)) {
		        			char nextCh = preReqLine.charAt(i+1);
		        			if(i != (preReqLine.length()-2)) {
		        				char nextNextCh = preReqLine.charAt(i+2);
		        				if(Character.isUpperCase(ch) && Character.isUpperCase(nextCh) && Character.isUpperCase(nextNextCh)) {
			        				lineCap3 = preReqLine;
			        				sum+=1; //571
			        				break;
			        			}
		        			}
		        		} 	*/
		        		
		        	} 
		        	
		        }
		    	
		    }
		    System.out.println(sum);
		} finally {
		    br.close();
		}


	}

}
